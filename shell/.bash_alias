#!/bin/bash

# Sourcing alias.
if [ -f ~/.bashrc ]; then
  alias source-profile='source ~/.bashrc'
elif [ -f ~/.bash_profile ]; then
  alias source-profile='source ~/.bash_profile'
fi

# Git command aliases
alias git-pull-all='find . -maxdepth 3 -name .git -type d | rev | cut -c 6- | rev | xargs -I {} git -C {} pull'
alias git-delete-merged='git branch --merged | grep -v "\*" | xargs -n1 git branch -d'
alias git-hide='git update-index --skip-worktree'
alias git-hide-undo='git update-index --no-skip-worktree'
alias git-ignore='git update-index --assume-unchanged'
alias git-ignore-undo='git update-index --no-assume-unchanged'
alias git-ignore-list='git ls-files -v | grep ^h'

# Shortcuts
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias ..2="cd ../.."
alias ..3="cd ../../.."

# Print timestamps with string. ex. timestamps 4 "-CREATE-"
function timestamps() {
  if [ -z $1 ]; then
    echo "Usage: timestamp 4"
  else
    for ((i=0; i<$1; i++)); do echo "$(($(date +%s) + $i))"$2; done
  fi
}

# Usuage: git-replace 'src/js' 'my_string' 'myString'
function git-replace() {
  echo "Updated files:"
  git ls-files | grep $1 | xargs -n1 grep $2 -l
  git ls-files | grep $1 | xargs -n1 grep $2 -l | xargs -n1 sed -i "s/$2/$3/g"
}
